(this["webpackJsonpwheather-app"]=this["webpackJsonpwheather-app"]||[]).push([[0],{20:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(12),i=n.n(c),o=(n(20),n(3)),s=n.n(o),l=n(4),d=n(2),u=n(5),m=n(6);var h,p=function(){var e=new Date,t=e.getDate(),n=e.getDay(),a=e.getMonth()+1,r="",c="";return 0===n&&(r="Domingo"),1===n&&(r="Lunes"),2===n&&(r="Martes"),3===n&&(r="Miercoles"),4===n&&(r="Jueves"),5===n&&(r="Viernes"),6===n&&(r="Sabado"),1===a&&(c="Enero"),2===a&&(c="Febrero"),3===a&&(c="Marzo"),4===a&&(c="Abril"),5===a&&(c="Mayo"),6===a&&(c="Junio"),7===a&&(c="Julio"),8===a&&(c="Agosto"),9===a&&(c="Septiembre"),10===a&&(c="Octubre"),11===a&&(c="Noviembre"),12===a&&(c="Diciembre"),"".concat(r," ").concat(t," de ").concat(c)},b=n(0),g=m.a.div(h||(h=Object(u.a)(['\n  display: flex;\n  width: 17rem;\n  height: 5.62rem;\n  margin: auto;\n  position: absolute;\n  bottom: 6rem;\n  background: linear-gradient(90deg, #536976 0%, #292e49 100%);\n  color: var(--white);\n  padding: 1rem 1.5rem;\n  box-sizing: border-box;\n  gap: 1rem;\n  border-radius: 0.5rem;\n  left: calc(50% - (17rem / 2));\n  * {\n    margin: 0;\n  }\n  .current-date-right {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    align-items: start;\n    justify-content: center;\n  }\n  .degreesCelsius {\n    font: 400 normal 50px/43px "Nunito", sans-serif;\n    display: flex;\n    align-items: center;\n  }\n  .day {\n    font: var(--caption-caption);\n    margin-block-end: 0.75rem;\n  }\n  .country {\n    font: var(--caption-caption);\n    display: flex;\n    gap: 0.25rem;\n  }\n  .country img {\n    vertical-align: middle;\n    object-fit: cover;\n  }\n'])));var f=function(e){var t=e.weather,n=e.setHidden,a=p(),r=Math.floor(t.main.temp-273.15),c="".concat(t.sys.country," ").concat(t.name);return n(document.getElementById("current-date")),Object(b.jsxs)(g,{id:"current-date",className:"animate__backInUp",children:[Object(b.jsxs)("div",{className:"degreesCelsius",children:[r,"\xb0"]}),Object(b.jsxs)("div",{className:"current-date-right",children:[Object(b.jsx)("p",{className:"day",children:a}),Object(b.jsxs)("div",{className:"country",children:[Object(b.jsx)("img",{src:"".concat("/Wheather-App","/icons/lugar.svg"),alt:"point"}),Object(b.jsx)("p",{children:c})]})]})]})};var j=function(e){var t=(new Date).getDay()+e,n="";if(t>6){var a=t-6;if(1===a)return"Domingo";if(2===a)return"Lunes";if(3===a)return"Martes";if(4===a)return"Mi\xe9rcoles"}return 0===t?"Domingo":1===t?"Lunes":2===t?"Martes":3===t?"Mi\xe9rcoles":4===t?"Jueves":5===t?"Viernes":6===t?"S\xe1bado":n};var x=function(e){var t=e.weatherForecast,n=e.setWeatherPerDay,a=(new Date).getDay();console.log(a);var r=t.list.slice(0,8),c=t.list.slice(8,16),i=t.list.slice(16,24),o=t.list.slice(24,32),s=t.list.slice(32,40),l=document.getElementById("element0"),d=document.getElementById("element1"),u=document.getElementById("element2"),m=document.getElementById("element3"),h=document.getElementById("element4");function p(){document.querySelectorAll(".weather-day").forEach((function(e){e.classList.remove("is-active")}))}return Object(b.jsxs)("div",{className:"weather-day-container",children:[Object(b.jsx)("h2",{className:"weather-day is-active",id:"element0",onClick:function(){n(r),p(),l.classList.add("is-active")},children:j(0)}),Object(b.jsx)("h2",{className:"weather-day",id:"element1",onClick:function(){n(c),p(),p(),d.classList.add("is-active")},children:j(1)}),Object(b.jsx)("h2",{className:"weather-day",id:"element2",onClick:function(){n(i),p(),u.classList.add("is-active")},children:j(2)}),Object(b.jsx)("h2",{className:"weather-day",id:"element3",onClick:function(){n(o),p(),m.classList.add("is-active")},children:j(3)}),Object(b.jsx)("h2",{className:"weather-day",id:"element4",onClick:function(){n(s),p(),h.classList.add("is-active")},children:j(4)})]})};var v=function(e){var t=e.hourbyWeather,n=e.weather,a=Math.floor(n.main.temp_min-273.15),r=Math.floor(n.main.temp_max-273.15),c=n.main.humidity,i=(3.6*n.wind.speed).toFixed(2);return console.log(t),Object(b.jsxs)("div",{className:"weather-more-info",children:[Object(b.jsxs)("div",{className:"info left",children:[Object(b.jsxs)("p",{children:["m\xe1x:",Object(b.jsxs)("b",{children:[t[0]?Math.floor(t[1].main.temp_max-273.15):r,"\xb0"]})]}),Object(b.jsxs)("p",{children:["viento:",Object(b.jsxs)("b",{children:[t[0]?(3.6*t[1].wind.speed).toFixed(2):i,"Km-h"]})]})]}),Object(b.jsxs)("div",{className:"info right",children:[Object(b.jsxs)("p",{children:["min:",Object(b.jsxs)("b",{children:[t[0]?Math.floor(t[1].main.temp_min-273.15):a,"\xb0"]})]}),Object(b.jsxs)("p",{children:["humedad:",Object(b.jsxs)("b",{children:[t[0]?t[1].main.humidity:c,"%"]})]})]})]})};var y=function(e){var t,n=e.weather,a=e.setClassVar,r=e.classActive,c=e.setHourbyWeather,i=Math.floor(n.main.temp-273.15),o=n.weather[0].main.toLowerCase(),s=new Date(n.dt_txt.replace(/-/g,"/"));console.log(s);var l=s.getHours(),d=s.getMinutes();t="".concat(l.toString().padStart(2,"00"),":").concat(d.toString().padStart(2,"00"));var u="";return u=l<=12?"am":"pm",Object(b.jsxs)("div",{className:"weather-data ".concat(r),onClick:function(){a(n.dt_txt),c([!0,n])},id:n.dt_txt,children:[Object(b.jsxs)("div",{className:"am-pm",children:[Object(b.jsxs)("p",{children:[t," "]}),Object(b.jsx)("p",{children:u})]}),Object(b.jsx)("img",{src:"".concat("/Wheather-App","/icons/").concat(o,".svg"),alt:""}),Object(b.jsxs)("p",{className:"degrees-celsius",children:[i,"\xb0"]})]})};var w,O=function(e){var t=e.weatherPerDay,n=e.setClassVar,a=e.setHourbyWeather,r=e.classVar;return Object(b.jsx)("div",{className:"weather-temperature",children:t.map((function(e){var t=r===e.dt_txt?"is-active":"";return Object(b.jsx)(y,{weather:e,setClassVar:n,classActive:t,setHourbyWeather:a},e.dt_txt)}))})},k=m.a.div(w||(w=Object(u.a)(["\n  position: absolute;\n  bottom: -290px;\n  height: 360px;\n  width: 100%;\n  background: var(--bg);\n  color: var(--white);\n  border-top-left-radius: 0.5rem;\n  border-top-right-radius: 0.5rem;\n  padding: 1.75rem 0 1rem;\n  box-sizing: border-box;\n  .component {\n    bottom: 0;\n  }\n  * {\n    margin: 0;\n  }\n\n  .bar {\n    width: 4rem;\n    height: 6px;\n    background: var(--white);\n    border-radius: 0.25rem;\n    position: absolute;\n    right: calc(50% - 2rem);\n    top: 0.5rem;\n    cursor: pointer;\n  }\n\n  .weather-temperature {\n    display: flex;\n    gap: 1rem;\n    overflow: auto;\n    scroll-snap-type: x mandatory;\n    padding: 0 1rem;\n    margin: 2rem 0 1rem;\n    box-sizing: border-box;\n  }\n  .weather-data {\n    border: 3px solid transparent;\n    scroll-snap-align: center;\n    background: var(--black);\n    padding: 1rem 12px;\n    border-radius: 60px;\n    width: 65px;\n    align-items: center;\n    justify-content: center;\n    text-transform: capitalize;\n    font: var(--body2-regular);\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n    box-sizing: border-box;\n    height: 130px;\n  }\n  .weather-data.is-active {\n    border: 3px solid var(--primary);\n  }\n  .weather-day-container {\n    display: flex;\n    gap: 1.5rem;\n    padding: 0 1rem;\n    justify-content: space-between;\n  }\n  .weather-day {\n    font: var(--body1-bold);\n    padding-bottom: 0.5rem;\n    text-transform: capitalize;\n    cursor: pointer;\n    border-bottom: 4px solid transparent;\n  }\n  .weather-day.is-active {\n    color: var(--primary);\n    border-bottom: 4px solid var(--primary);\n  }\n  .weather-more-info {\n    display: flex;\n    justify-content: space-between;\n    padding: 1rem;\n  }\n  .weather-more-info div p {\n    color: var(--white);\n    text-transform: capitalize;\n    font: var(--body1-regular);\n  }\n  .weather-more-info div p b {\n    color: var(--white);\n    font: var(--body1-bold);\n    text-transform: none;\n  }\n  .am-pm {\n    text-align: center;\n    text-transform: none;\n  }\n  .info {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n  }\n  .info b {\n    padding-left: 5px;\n  }\n  @media (max-width: 500px) {\n    .weather-day-container {\n      justify-content: space-between;\n      gap: 0;\n    }\n    .weather-day {\n      font-size: 14px;\n    }\n  }\n"])));var W=function(e){var t=e.weather,n=e.weatherForecast,r=e.hidden,c=Object(a.useState)([!1,""]),i=Object(d.a)(c,2),o=i[0],s=i[1],l=Object(a.useState)("2021-07-21 18:00:00"),u=Object(d.a)(l,2),m=u[0],h=u[1],p=n.list.slice(0,8),g=Object(a.useState)(p),f=Object(d.a)(g,2),j=f[0],y=f[1],w=Object(a.useState)(1),W=Object(d.a)(w,2),N=W[0],I=W[1];return Object(b.jsxs)(k,{id:"Weather",children:[Object(b.jsx)("p",{className:"bar",onClick:function(){var e=document.getElementById("Weather");console.log(r),1===N?(I(""),e.style.bottom=0,r.style.bottom="400px"):(I(1),r.style.bottom="100px",e.style.bottom="-290px")}}),Object(b.jsx)(x,{weatherForecast:n,setWeatherPerDay:y}),Object(b.jsx)(O,{setHourbyWeather:s,weatherPerDay:j,setClassVar:h,classVar:m}),Object(b.jsx)(v,{hourbyWeather:o,weather:t})]})},N="091ec36883705339db6f4e5fbef580dc",I="https://api.openweathermap.org/data/2.5";function C(){return(C=Object(l.a)(s.a.mark((function e(t,n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(I,"/weather?lat=").concat(t,"&lon=").concat(n,"&appid=").concat(N));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("no jalo el fetch");case 5:return e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e,t){return C.apply(this,arguments)};var S=function(e,t,n){var a=document.getElementById("app"),r=e.weather[0].main.toLowerCase();if(console.log(r),setInterval((function(){if((new Date).getHours()>=19)return n(!0)}),100),"rain"===r){if(t)return a.style.backgroundImage="url(".concat("/Wheather-App","/images/drizzle-night.jpg)");a.style.backgroundImage="url(".concat("/Wheather-App","/images/drizzle.jpg)")}if("clear"===r){if(t)return a.style.backgroundImage="url(".concat("/Wheather-App","/images/clear-night.jpg)");a.style.backgroundImage="url(".concat("/Wheather-App","/images/clear.jpg)")}if("wind"===r){if(t)return a.style.backgroundImage="url(".concat("/Wheather-App","/images/wind-night.jpg)");a.style.backgroundImage="url(".concat("/Wheather-App","/images/wind.jpg)")}if("clouds"===r){if(t)return a.style.backgroundImage="url(".concat("/Wheather-App","/images/clouds-night.jpg)");a.style.backgroundImage="url(".concat("/Wheather-App","/images/clouds.jpg)")}},M="091ec36883705339db6f4e5fbef580dc",A="https://api.openweathermap.org/data/2.5";function z(){return(z=Object(l.a)(s.a.mark((function e(t,n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(A,"/forecast?lat=").concat(t,"&lon=").concat(n,"&appid=").concat(M));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("fetch fallido de la funcion getWeatherForecastFor5Days");case 5:return e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E,F=function(e,t){return z.apply(this,arguments)},L=n(10),_=n.n(L),B=(n(25),m.a.div(E||(E=Object(u.a)(["\n  height: 100vh;\n  width: 100vw;\n  background-image: url(","/images/clear-day.jpg);\n  background-position: center;\n  background-size: cover;\n  position: relative;\n  overflow: hidden;\n"])),"/Wheather-App"));var H=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(d.a)(c,2),o=i[0],u=i[1],m=Object(a.useState)(""),h=Object(d.a)(m,2),p=h[0],g=h[1],j=Object(a.useState)(!1),x=Object(d.a)(j,2),v=x[0],y=x[1],w=Object(a.useState)(!1),O=Object(d.a)(w,2),k=O[0],N=O[1];return v&&S(n,k,N),console.log(p),Object(a.useEffect)((function(){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.coords.latitude,a=t.coords.longitude,_.a.start(),e.next=5,D(n,a);case 5:return c=e.sent,e.next=8,F(n,a);case 8:i=e.sent,r(c),g(i),y(!0),_.a.done(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):alert("el usuario no dio acceso a su ubicaci\xf3n")}),[]),Object(b.jsxs)(B,{id:"app",children:[v?Object(b.jsx)(f,{weather:n,setHidden:u}):"",v?Object(b.jsx)(W,{weather:n,weatherForecast:p,hidden:o}):""]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(H,{})}),document.getElementById("root")),V()}},[[26,1,2]]]);
//# sourceMappingURL=main.bc1e29d6.chunk.js.map